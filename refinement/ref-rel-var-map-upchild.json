{
    "models": { "ILA":"m0" , "VERILOG": "m1" },
  
    "state mapping": {
        "io_valid_out"    : "m1.upstream.io_valid_r_o[0]",
        "io_data_out_ch0" : "m1.upstream.io_data_r_o[7:0]",
        "io_data_out_ch1" : "m1.upstream.io_data_r_o[15:8]",

        "data_cycle_0"    : "#data#",
        "data_cycle_1"    : "#data#",
        "child_valid"     : [["__START__", "m1.upstream.ch_0_sso.io_async_fifo_valid"], ["__IEND__", "m1.upstream.ch_0_oddr_phy.ready_o"]],
        "sent_cnt"        : "#sent_counter#",
        "finish_cnt"      : "#finish_counter#",

        "counter"         : [["__START__", "m1.upstream.ch_0_oddr_phy.odd_r"], ["__IEND__",  "#cnt_oddr#"]],
        "commit"          : "#commit#",
        "data_temp"       : "{m1.upstream.ch_1_oddr_phy.data_i_r[16:9], m1.upstream.ch_1_oddr_phy.data_i_r[7:0], 16'b0} + {m1.upstream.ch_0_oddr_phy.data_i_r[16:9], m1.upstream.ch_0_oddr_phy.data_i_r[7:0]}"
    },

    "value-holder" : {
        "cnt_oddr" :{
          "cond": "__CYCLE_CNT__ == 1",
          "val" : "m1.upstream.ch_0_oddr_phy.odd_r",
          "width": "auto"
        }
      },

    "verilog-inline-monitors" : {
        "cnt_data_record":{
            "verilog": [
                "assign sent_counter = m1.upstream.ch_0_sso.pos_credit_ctr.r_counter_r[5:0] + m1.upstream.ch_0_sso.neg_credit_ctr.r_counter_r[5:0] - 7'b1000000;",
                "assign finish_counter = {(m1.upstream.ch_0_sso.pos_credit_ctr.w_counter_binary_r_rsync[3:0] + m1.upstream.ch_1_sso.neg_credit_ctr.w_counter_binary_r_rsync[3:0]),3'b000};",
                "assign data = {m1.upstream.ch_1_sso.io_async_fifo_data[15:0], 16'b0} + m1.upstream.ch_0_sso.io_async_fifo_data[15:0];"
            ],
            "defs" :[
                ["sent_counter", 7, "reg"],
                ["finish_counter", 7, "reg"],
                ["data", 32, "reg"]
            ],
            "refs" :[
                "m1.upstream.ch_0_sso.pos_credit_ctr.r_counter_r",
                "m1.upstream.ch_0_sso.neg_credit_ctr.r_counter_r",
                "m1.upstream.ch_0_sso.pos_credit_ctr.w_counter_binary_r_rsync",
                "m1.upstream.ch_0_sso.neg_credit_ctr.w_counter_binary_r_rsync",
                "m1.upstream.ch_1_sso.io_async_fifo_data",
                "m1.upstream.ch_0_sso.io_async_fifo_data"
            ]
        },

        "token_record": {
            "verilog": [
                "always @(posedge __ILA_I_core_clk) begin",
                "   if(rst) token_clk_i <= 0;",
                "   else begin",
                "       token_clk_i <= m1.upstream.token_clk_i[0];",
                "   end",
                "end"
            ],

            "defs" : [
                ["token_clk_i", 1 ,"reg"]
            ],

            "refs" : [

            ]
        },

        "commit_stage":{
            "verilog" :[
                "always @(posedge clk) begin ",
                "    if(m1.upstream.ch_0_oddr_phy.data_i[8] && m1.upstream.ch_0_oddr_phy.ready_o)",
                "        commit <= 1;",
                "    else if (commit && m1.upstream.ch_0_oddr_phy.ready_o)",
                "        commit <= 0;",
                "end" 
            ],
            "defs" : [
                ["commit", 1, "reg"]
            ],
            "refs" : [
                "m1.upstream.ch_0_oddr_phy.data_i[8]",
                "m1.upstream.ch_0_oddr_phy.ready_o"
            ]
        }

    },
  
    "interface mapping": {
        "base_clk"      :      "**KEEP**",
        "core_clk"      :      "core_clk",
        "io_clk"        :      "**CLOCK**",
        "edge_clk_i"    :      "core_clk",
        "rst"           :      "**RESET**",
        "data_i"        :      "core_data_in",
        "valid_i"       :       "core_valid_in",
        "core_yumi_i"   :       "**KEEP**",
        "data_o"        :       "**SO**",
        "valid_o"       :       "**SO**"
    },
  
    "mapping control":[
        "m0.io_token == (m1.upstream.token_clk_i[0] ^ #token_clk_i#)"
    ],
  
    "assumptions" : [
      ]
  
}